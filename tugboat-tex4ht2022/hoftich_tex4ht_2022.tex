% This template file is public domain.
%
% TUGboat class documentation is at:
%   http://mirrors.ctan.org/macros/latex/contrib/tugboat/ltubguid.pdf
% or
%   texdoc tugboat

\documentclass{ltugboat}

\usepackage{microtype}
\usepackage{graphicx}
\usepackage[hidelinks,pdfa]{hyperref}

%%% Start of metadata %%%

\title{What's new in \TeX4ht}

% repeat info for each author; comment out items that don't apply.
\author{Michal Hoftich}
\EDITORnoaddress
% BelluÅ¡ova 1829, Prague 5, 155 00
\netaddress{michal.h21@gmail.com}
\personalURL{https://www.kodymirus.cz/}
%\ORCID{0}
% To receive a physical copy of the TUGboat issue, please include the
% mailing address we should use, as a comment if you prefer it not be printed.


%%% End of metadata %%%

\newcommand\makefourht{\texttt{make4ht}}

\begin{document}
\maketitle

\begin{abstract}
  % ToDo: write abstract
\end{abstract}

\section{Introduction}

Richard Koch wrote an article about interactive documents produced using
\TeX4ht in this issue of TUGBoat. He and Karl Berry asked me if I wanted 
to provide additional tips for usage of \TeX4ht, and also to summarize
the recent changes in the system.


\hypertarget{Whatux27sux20newux20inux20TeX4ht}{%
\section{What's new in TeX4ht}\label{Whatux27sux20newux20inux20TeX4ht}}

You can find the basic summary of the basic \TeX4ht features in my previous article
\cite{hoftich19}. I will focus on the new features and changes in this section.

\subsection{New features in \makefourht}

There are some substantial changes in \makefourht\ build system. These are the
most important:

\subsubsection{Terminal output}

Originally, \makefourht\ showed full terminal output from \TeX\ and all
commands that it called in the process of conversion. It resulted in a huge 
amount of information printed to the terminal. It also used the default 
behavior of \LaTeX, so the compilation was stopped on every error, waiting
for the user action.

The new default behaviour is to run the compilation in the non-stop mode, 
with most of the terminal output suppressed. Only errors and warnings are 
shown. 

You can change the output method using a new command line option,
\verb|--loglevel|, or \verb|-a| in the short form. Each log level prints 
messages of the current level and all higher levels.
It supports the following levels:

\begin{description}
  \item[error] -- print only error messages
  \item[warning] -- show \makefourht\ warnings, for example from HTML post-processing filters
  \item[status] -- this is the default level 
  \item[info]  -- print all \makefourht\ messages, but suppress output from commands
  \item[debug] -- this level is the original default, it prints output of
    \TeX\ and all other executed programs, it also stops on compilation
    errors.
\end{description}

\subsubsection{Input redirection}

\makefourht\ now supports shell input redirection, which means that it can 
process output from other commands without the need to use temporary files.
You need to pass \verb|-| as a filename, and also set the output filename using
the \verb|--jobname| or \verb|-j| option:

\begin{verbatim}
$ python generatetex.py | make4ht -j foo -
\end{verbatim}



\subsection{New \makefourht\ extensions}



  \begin{itemize}
  \item MathML fixes
  \item sectionid
  \end{itemize}

\section{\TeX4ht updates}

\tbsurl{www.kodymirus.cz/tex4ht-doc}

%- support for shell pipes
%  - --jobname
%- preprocess_input


\subsection{JATS output}

We recently added a support for the JATS XML format, which is intended for 
scientific articles authoring. 



\begin{itemize}

\item make4ht extensions:
  
\item JATS export
\item documentation at kodymirus.cz
\item server side compilation:
  \begin{itemize}
  \item siterebuild
  \item testblog
  \end{itemize}

\item LaTeX kernel updates
\item handling of catcode issues in packages
  \begin{itemize}
  \item \textbackslash SUBOff and \textbackslash SUBOn in usepackage.4ht
    \url{https://tug.org/pipermail/tex4ht-commits/2022q3/001185.html}
  \end{itemize}
\item Math processing:
  \begin{itemize}
  \item make4ht options:
    \begin{itemize}
    \item mathml
    \item mathjax
      \begin{itemize}
      \item configuration
      \item loading of custom commands
      \item cross-referencing support
      \end{itemize}
    \end{itemize}
  \item MathJax mode
    \begin{itemize}
    \item mathml rendering
    \item LaTeX rendering
    \item
      new node.js compilation - \texttt{mjcli}
      \url{https://github.com/michal-h21/mjcli}
    \end{itemize}
  \end{itemize}
\item HTF fonts
\item command and package fixes

  \begin{itemize}
  \item robust commands and issues with TOC and list of figures, captions
    etc.
  \end{itemize}
\end{itemize}


\section{Abbreviation macros}

The \texttt{ltugboat} class provides many abbreviation commands; here
are a few of the most common:

% verbatim blocks are often better in \small
\begin{verbatim}[\small]
\AllTeX \AMS
\BibTeX \Cplusplus \CTAN
\DVI
\HTML \LaTeXe
\MacOSX \MathML \MF
\PDF \PS
\TUB \TUG \tug
\WEB
\XeLaTeX \XeTeX \XML

\Dash \slash

\acro{FRED} -> {\small[er] FRED}  % please use!
\cs{fred}   -> \fred
\meta{fred} -> <fred>
\booktitle{Book of Fred}
\end{verbatim}

\section{Figures}

The standard \texttt{figure} environment produces a column-width figure;
this is desirable when at all possible. The \texttt{figure*} environment
produces a full-width (across both columns) figure when needed.
Analogously for \texttt{table} and \texttt{table*}. 

Please put captions below figures, but above tables. That's our
convention.

Don't worry overmuch about figure placement, as this will likely change
with any edits.

\begin{figure}
A column-width figure, made with \cs{begin}\tubbraced{figure}.
\caption{Caption for column-width figure.}
\label{fig.colwidth}
\end{figure}

\begin{figure*}
A full-width figure, made with \cs{begin}\tubbraced{figure*}.
\caption{Caption for full-width figure.}
\label{fig.fullwidth}
\end{figure*}

\section{Bibliographies}

For references to other issues of \TUB, please use the format
\textsl{volno:issno}, e.g., ``\TUB\ 32:1'' for volume~32, number~1.

The \TUB\ style documentation is the \texttt{ltubguid} document at
\tbsurl{ctan.org/pkg/tugboat}. For general \CTAN\ package references, we
recommend the form just shown, using \texttt{/pkg/}; if you need to
refer to a specific file location, use
\texttt{http://mirror.ctan.org/\textsl{path}}.

We recommend using \BibTeX\ (but don't require it), with the
\texttt{tugboat} \BibTeX\ style. The \texttt{biblio} directory on \CTAN,
\tbsurl{ctan.org/pkg/biblio}, provides files \texttt{tugboat.bib} with
an essentially complete bibliography of \TUB, and \texttt{texbook3.bib}
(and others there) with many \TeX-related citations. Both of these (and
many more) should also already be in a non-minimal \TeX\ distribution.

Email \verb|tugboat@tug.org| with any problems or questions.

\bibliographystyle{tugboat}
\nocite{book-minimal}      % make the bibliography non-empty
\bibliography{mybib}       % xampl.bib comes with BibTeX

\makesignature
\end{document}
